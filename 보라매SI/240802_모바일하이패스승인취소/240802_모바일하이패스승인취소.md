




## 태훈 책임님이 주신 쿼리
- 하이패스 코드가 있는 쿼리와 ASIS를 조회할 수 있는 쿼리다.
    ```sql
    --하이패스 등록 취소사유코드: ASIS 데이터 이관
    ---tobe
    select *
    from cccccltc   --공통그룹코드명세
    where comn_grp_cd = '996';

    select *
    from cccccste   --공통그룹코드 상세
    where comn_grp_cd = '996';

    --asis 그룹코드 조회 - 개발기, 스테이징에선 아래와 같이 DBLink(@....) 붙여야 함. 운영기 조회시엔 빼도 됨.
    select *
    from asis_hcom.cccodest@dl_prod_mig
    where ccd_typ = '996';
    ```

### 길
- ASIS 승인 취소 쿼리 찾아봐라

## ASIS 찾아보기
- [모바일하이패스 화면 url](http://dev10.brmh.org/BIL/ACC/CALS/OCALS/CREATEHIPSSMOBILEAPRV.ASPX)
    ![](/보라매SI/img/2024-08-03하이패스ASIS.png)
    ![](/보라매SI/img/2024-08-03하이패스ASIS2.png)
    ![](/보라매SI/img/2024-08-03하이패스ASIS3.png)


url를 보면, 절대경로가 보인다. 그래서 무슨 파일인 지 알 수 있다.
- CREATEHIPSSMOBILEAPRV.ASPX 이 파일 찾기
    ```
    D:\AS-IS소스_20231226\WEB\BIL\ACC\CALS\OCALS
    ```


- 찾은 쿼리 패기키
    ```
    pkg_bil_ocals.pc_ap_HipssMobileAprvList
    ```


- 프로시저는 찾았는데 그 이후를 모르겠다.
```SQL
PROCEDURE pc_ap_HipssMobileAprv_Upd (      in_gubun          in  varchar2     -- 승인, 취소, 미승인
		                                 , in_pt_no    		 in  varchar2     -- 환자 번호
		                                 , in_fstinst_dte    in  varchar2     -- 적용시작일자?
		                                 , in_token_no_skp   in  varchar2     -- SKP 하이패스 토큰
		                                 , in_wk_id          in  varchar2 )
; 
```


## HSF.TechSvc2010.Common.HSFBaseException: 'HSF Parameters Mapping error : Field Name is  :IN_HPCD_CNCL_RSN_CD