


# 1차 리허설
## 카드 단말기 설정 방법
- 이 방법에 대한 상세 내용은 공유폴더 작성된 메모장에 있다.
    ```
    \\100.5.1.186\원무보험_공유폴더\통합테스트 세팅
    ```


- 우선, 디렉토리 위치에 있는 파일 세개를 백업해야한다.
    ```
    - C:\NICEVCAT\
        1. niceoption.ini
        2. multivaninfo.ini
        3. niceoption.ini
    ```


- 그리고 그 파일 안에 내용이 203.xxx.xxx.126 정상 IP Port인데, 191으로 된 걸로 변경해줘야 한다. (아래는 테스트 가능한 port다.)
    ```
    KEY_DOWN_IP=203.234.227.191
    KEY_DOWN_PORT=7846
    RIP=203.234.227.191
    RPORT=7846
    ```

<strong style="color:red"></strong>

- 위 아래로 KIS와 NICE 두가지가 있으니, 확인해야한다. 
    - 참고 :  [공유폴더 메모장 내용](나이스.md)

    
    
- 이후, 우측 하단에 숨겨진 아이콘 클릭 -> NICE를 종료 후, 'C:\NICEVCAT\'에서 '~.exe' 재시작 -> 숨겨진 아이콘에서 더블 클릭 -> 화면에 적용된 <strong style="color:red">서버 IP</strong>와 <strong style="color:red">서버 Port</strong>에 적용되었는지 확인한다.


    ![](/보라매SI/img/개발기%20vcat%20환경설정.png)





- VAN에서 <strong style="color:red">각각 등록</strong> -> 다시 돌아와 저장 -> 신용결제에서 결제를 테스트해보는데, -> 오류나 실제 결제가 이루어 진다면, 재시작과 같은 과정을 반복한다.
    - 카드를 꽂고 1000원 결제 -> 승인완료 팝업이 나왔는데, 실제 결제가 안되면 성공

    - 환불은 승인내열조회에서 가장 아래에 항목을 클릭하고 승인취소를 할 수 있다.

    ![](/보라매SI/img/개발기%20vcat%20멀티van설정.png)
    





## 환자 모니터 & 프린터 설정

### 1. 데스크탑 기본 프린터 설정

- 제어판 -> 프린터 설정에서 기본 프린터를 ???으로 설정 
- 영수증 모니터를 p14?? c14?? 로 설정

### 2. TOBE에서 설정
세팅에 환자 모니터와 프린터 있다.

- -> 환자외래수납에서 결제하면 자동으로 프린트된다.

- -> 환자 모니터는 실행했을 때, 내 모니터에서 안 뜨면 성공







## 발생했던 에러
상당히 많은 에러가 있었지만, 크게 기억나는 건 
### 0. 시나리오 환자번호 부재
- 
### 1. 입퇴원진료확인서 입원중일 때, 값이 달라져야 하는데, 안 달라짐
- 
### 2. 환불시, Core.DTO에서 에러, 환불 안됨
- 

## 보험
시나리오가 끝남 -> 보험 시작
1. 보험은 결과값이 제대로 나왔는지 원무와 비교하며 확인